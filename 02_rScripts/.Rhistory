install.packages("ggplot2")
install.packages("dplyr")
install.packages("knitr")
install.packages("nycflights13")
library(ggplot2)
library(dplyr)
library(knitr)
library(nycflights13)
nycflights13::flights
View(nycflights13::flights)
View(nycflights13::weather)
glimpse(nycflights13::flights)
airlines
kable(airlines)
airlines$name
library(moderndive)
install(moderndive)
install.packages("moderndive")
library(moderndive)
detach("package:nycflights13", unload = TRUE)
library(nycflights13)
library(ggplot2)
library(moderndive)
View(flights)
View(alaska_flights)
dep_delay
ggplot(data=alaska_flights, mapping=aes(x=dep_delay, y=arr_delay))+geom_point()
ggplot(data=alaska_flights, aes=(x=dep_time, y=dep_delay)) +
ggplot(data=alaska_flights, mapping=aes(x=dep_time, y=dep_delay)) +
geom_point()
ggplot(data=alaska_flights, mapping=aes(x=dep_time, y=arr_delay)) +
geom_point()
ggplot(data=alaska_flights, mapping=aes(x=month, y=arr_delay)) +
geom_point()
glimpse(weather)
library(dplyr)
glimpse(weather)
?weather
ggplot(data=early_january_weather, mapping=aes(x=time_hour, y=temp)) +
geom_line()
ggplot(data=early_january_weather, mapping=aes(x=time_hour, y=dewp)) +
geom_line()
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram()
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color=white)
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white")
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white", binwidth=10)
?geom_histogram
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white", binwidth=10, boundary=10)
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white", binwidth=5)
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white", binwidth=5, boundary=55)
temp
ggplot(data=weather, mapping=aes(x="temp")) +
geom_histogram(color="white", binwidth=5, boundary=55)
?aes
ggplot(data=weather, mapping=aes(x=weather$temp)) +
geom_histogram(color="white", binwidth=5, boundary=55)
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white", binwidth=5, boundary=55)
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white", binwidth=5, boundary=55) +
facet_wrap(~month)
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white", binwidth=5, boundary=55) +
facet_wrap(~hour)
ggplot(data=weather, mapping=aes(x=temp)) +
geom_histogram(color="white", binwidth=5, boundary=55) +
facet_wrap(~month, nrow=2)
ggplot(data=weather, mapping=aes(x=factor(month), y=temp)) +
geom_boxplot()
weather.month(5)
weather[month=5]
fruits <- tibble(fruit = c("apple", "apple", "orange", "apple", "orange"))
fruits
glimpse(fruits)
fruits_counted <- tibble(fruit = c("apple", "orange"), number = c(3, 2))
glimpse(fruits_counted)
ggplot(data=fruits, mapping=aes(x=fruit)) +
geom_bar()
ggplot(data=fruits, mapping=aes(x=fruit, y=number)) +
geom_bar()
ggplot(data=fruits_counted, mapping=aes(x=fruit, y=number)) +
geom_col()
ggplot(data=flights, mapping=aes(x=carrier)) +
geom_bar()
ggplot(data=flights, mapping=aes(x=carrier, fill=origin)) +
geom_bar()
ggplot(data=flights, mapping=aes(x=carrier, fill=origin)) +
geom_bar(position=position_dodge(preserve="single"))
ggplot(data=flights, mapping=aes(x=carrier)) +
geom_bar() +
facet_wrap(~origin)
ggplot(data=flights, mapping=aes(x=carrier)) +
geom_bar() +
facet_wrap(~origin, ncol = 1)
ggplot(flights, aes(x=carrier)) +
geom_bar()
ggplot(data=flights, mapping=aes(x=carrier)) +
geom_bar()
weather[month==5]
weather %>% filter(month==5)
btv_sea_flights_fall <- flights %>%
filter(origin=="JFK" & (dest == "BTV" | dest == "SEA") & month >= 10)
View(btv_sea_flights_fall)
View(flights %>% filter(dest %in% c("SEA", "BTV", "SFO")))
summary_temp <- weather %>%
summarize(mean = mean(temp, na.rm=TRUE), std_dev=sd(temp, na.rm=TRUE))
summary_temp
summary_month <- weather %>%
group_by(month) %>%
summarize(mean = mean(temp, na.rm=TRUE), std_dev=sd(temp, na.rm=TRUE))
View(summary_month)
library(dplyr)
library(nycflights13)
library(ggplot2)
by_origin_monthly <- flights %>%
group_by(origin, month) %>%
summarize(count=n())
by_origin_monthly
weather <- weather %>%
mutate(temp_in_C=(temp-32)/1.8)
View(weather)
summary_monthly_temp <- weather %>%
group_by(month) %>%
summarize(mean_temp_in_F = mean(temp, na.rm=TRUE),
mean_temp_in_C = mean(temp_in_C, na.rm=TRUE))
summary_monthly_temp
flights <- flights %>%
mutate(gain = dep_delay - arr_delay)
gain_summary <- flights %>%
summarize(
min = min(gain, na.rm = TRUE),
q1 = quantile(gain, 0.25, na.rm = TRUE),
median = quantile(gain, 0.5, na.rm = TRUE),
q3 = quantile(gain, 0.75, na.rm = TRUE),
max = max(gain, na.rm = TRUE),
mean = mean(gain, na.rm = TRUE),
sd = sd(gain, na.rm = TRUE),
missing = sum(is.na(gain))
)
gain_summary
?is.na
is.na(1)
sum(is.na(1))
is.na(NA)
sum(is.na(NA))
n(c(1,2,3))
count(c(1,2,3))
ggplot(flights, mapping=aes(x=gain)) +
geom_histogram(color="white",bins=20)
freq_dest <- flights %<%
group_by(dest) %>%
summarize(num_flights=n())
frew_dest <- flights %>%
group_by(dest) %>%
summarize(num_flights=n())
freq_dest <- frew_dest
freq_dest %>% arrange(num_flights)
freq_dest %>% arrange(desc(num_flights))
View(flights)
flight_summary <- flights %>%
group_by(flight) %>%
summarize(count=n(), carriers = distinct(carrier))
flights %>
flights %>%
group_by(flight) %>%
summarize(carriers=distinct(carrier)) %>%
filter(carriers > 1)
?distinct
?n_distinct
flights %>%
group_by(flight) %>%
summarize(carriers=n_distinct(carrier)) %>%
filter(carriers > 1)
flights %>% filter(flight=1)
flights %>% filter(flight==1)
View(flights %>% filter(flight==1))
flights %>% filter(is.na(dep_delay))
flights %>% filter(is.na(dep_delay)|is.na(arr_delay))
flights %>% filter(is.na(dep_time)|is.na(arr_time))
View(airorts)
View(airports)
named_dests <- flights %>%
group_by(dest) %>%
summarize(num_flights = n()) %>%
arrange(desc(num_flights)) %>%
inner_join(airports, by=c("dest"="faa")) %>%
rename(dest_name=name) %>%
inner_join(airports, by=c("origin" = "faa")) %>%
rename(origin_name=name)
named_dests <- flights %>%
group_by(dest) %>%
summarize(num_flights = n()) %>%
arrange(desc(num_flights)) %>%
inner_join(airports, by=c("origin" = "faa")) %>%
rename(dest_name=name)
rlang::last_trace()
named_dests <- flights %>%
group_by(dest) %>%
summarize(num_flights = n()) %>%
arrange(desc(num_flights)) %>%
inner_join(airports, by=c("dest" = "faa")) %>%
rename(dest_name=name)
View(named_dests)
library(nycflights13)
library(dplyr)
library(ggplot2)
flights %>% select(contains("arr"))
flights %>% select(-year)
flights %>% select(~year)
?~
flights %>% group_by(carrier, flight) %>% summarize(distinct_distances = n_distinct(distance))
flights %>% filter(carrier="9E" & flight=2903) %>% group_by(distance) %>% summarize()
flights %>% filter(carrier=="9E" & flight==2903) %>% group_by(distance) %>% summarize()
flights %>% filter(carrier=="9E" & flight=2903 & distance=187)
flights %>% filter(carrier=="9E" & flight==2903 & distance==187)
flights %>% filter(carrier=="9E" & flight==2903 & distance==541)
View(flights %>% filter(carrier=="9E" & flight==2903 & distance==187))
View(flights %>% filter(carrier=="9E" & flight==2903 & distance==541))
View(flights %>% filter(carrier=="9E" & flight==2903 & distance==541)) %>% select(origin,dest)
flights %>% filter(carrier=="9E" & flight==2903 & distance==541) %>% select(origin,dest)
flights %>% filter(carrier=="9E" & flight==2903 & distance==187) %>% select(origin,dest)
View(airlines)
View(planes)
flights %>% filter(n() < 10)
flights %>% filter(row_number() < 10)
flights %>% filter(row_number() < 10) %>% inner_join(planes, by=tailnum)
flights %>% filter(row_number() < 10) %>% inner_join(planes, by="tailnum")
flights %>% filter(row_number() < 10) %>% inner_join(planes, by="tailnum") %>% select(carrier, flight, tailnum, origin, dest, distance, seats)
flights %>% filter(row_number() < 10) %>% left_join(planes, by="tailnum") %>% select(carrier, flight, tailnum, origin, dest, distance, seats)
flights %>% left_join(planes, by="tailnum") %>% select(carrier, flight, tailnum, origin, dest, distance, seats) %>% mutate(seat_miles = seats * distance)
flights %>% left_join(planes, by="tailnum") %>% select(carrier, flight, tailnum, origin, dest, distance, seats) %>% mutate(seat_miles = seats * distance) %>% group_by(carrier) %>% summarize(total_seat_miles=sum(seat_miles))
flights %>% inner_join(planes, by="tailnum") %>% select(carrier, flight, tailnum, origin, dest, distance, seats) %>% mutate(seat_miles = seats * distance) %>% group_by(carrier) %>% summarize(total_seat_miles=sum(seat_miles))
?library
library(tidyverse)
install.packages("tidyverse")
install.packages("ragg")
install.packages("tidyverse")
library(readr)
library(tidyr)
library(fivethirtyeight)
install.packages("fivethirtyeight")
library(fivethirtyeight)
install.packages('fivethirtyeightdata', repos =
'https://fivethirtyeightdata.github.io/drat/', type = 'source')
dem_score <- read_csv("https://moderndive.com/data/dem_score.csv")
dem_score
library(readxl)
dem_score <- read_excel("Downloads/dem_score.xlsx")
View(dem_score)
fivethirtyeight::drinks
?drinks
drinks %>%
filter(country in c("USA", "China", "Italy", "Saudi Arabia"))
?filter
filter(country == c("USA", "China", "Italy", "Saudi Arabia"))
drinks %>% filter(country == c("USA", "China", "Italy", "Saudi Arabia"))
drinks %>% filter(country %in% c("USA", "China", "Italy", "Saudi Arabia"))
drinks %>% filter(country %in% c("USA", "China", "Italy", "Saudi Arabia")) %>% select(-total_litres_of_pure_alcohol)
drinks %>% filter(country %in% c("USA", "China", "Italy", "Saudi Arabia")) %>% select(-total_litres_of_pure_alcohol) %>%
rename(beer = beer_servings)
rename(beer = beer_servings, spirit = spirit_servings, wine = wine_servings)
drinks %>% filter(country %in% c("USA", "China", "Italy", "Saudi Arabia")) %>% select(-total_litres_of_pure_alcohol) %>%
rename(beer = beer_servings, spirit = spirit_servings, wine = wine_servings)
drinks_smaller <- drinks %>% filter(country %in% c("USA", "China", "Italy", "Saudi Arabia")) %>% select(-total_litres_of_pure_alcohol) %>%
rename(beer = beer_servings, spirit = spirit_servings, wine = wine_servings)
drinks_smaller
ggplot(drinks_smaller, mapping=aes(x=country)) +
geom_bar()
ggplot(drinks_smaller, mapping=aes(x=country)) + geom_column()
ggplot(drinks_smaller, mapping=aes(x=country, y=beer)) + geom_bar()
ggplot(drinks_smaller, mapping=aes(x=country)) + geom_bar(beer)
?geom_bar
ggplot(drinks_smaller, mapping=aes(x=country)) + geom_bar(mapping=aes(y=beer))
?geom_column
?geom_col
ggplot(drinks_smaller, mapping=aes(x=country)) + geom_column(mapping=aes(y=beer))
ggplot(drinks_smaller, mapping=aes(x=country)) + geom_col(mapping=aes(y=beer))
ggplot(drinks_smaller, mapping=aes(x=country)) + geom_col()
drinks_smaller %>% pivot_longer(names_to = "type", values_to = "servings", cols = -country)
drinks_smaller_tidy <- drinks_smaller %>% pivot_longer(names_to = "type", values_to = "servings", cols = -country)
?-
?~
drinks.columns
drinks.cols
?drinks
ggplot(drinks_smaller_tidy, mapping=aes(x=country, y=servings, fill=type)) +
geom_col(position=position_dodge())
airline_safety
dem_score
guat_dem <- dem_score %>% filter(country="Guatemala")
guat_dem <- dem_score %>% filter(country=="Guatemala")
guat_dem
guat_dem_tidy <- guat_dem %>%
pivot_longer(names_to="year",values_to="score",cols=-country)
guat_dem_tidy
guat_dem_tidy <- guat_dem %>% pivot_longer(names_to="year",values_to="score",cols=-country, names_transform=list(year=as.integer))
guat_dem_tidy
ggplot(guat_dem_tidy, mapping=aes(x=year, y=score)) + geom_line()
library(moderndive)
install.packages("skimr")
library(skimr)
evals
evals_ch5 <- evals %>% select(ID, score, bty_avg, age)
evals_ch5
glimpse(evals_ch5)
?evals_ch5
?evals
evals_ch5 %>% sample_n(5)
evals_ch5 %>% summarize()
evals_ch5 %>% summarize(
mean_bty_avg=mean(bty_avg),
mean_age=mean(age),
mean_score=mean(score),
medain_bty_avg=median(bty_avg),
median_age=median(age),
median_score=median(score)
)
evals_ch5 %>% select(score, bty_avg) %>% skim()
evals_ch5 %>% get_correlation(formula = score ~ bty_avg)
evals_ch5 %>% summarize(correlation = cor(score ~ bty_avg))
evals_ch5 %>% summarize(correlation = cor(score, bty_avg))
ggplot(evals_ch5, aes(x=bty_avg, y=score)) +
geom_point() +
labs(x = "Beauty Score", y = "Teaching Score", title="Scatterplot of relationship of teaching and beauty scores")
ggplot(evals_ch5, aes(x=bty_avg, y=score)) +
geom_jitter() +
labs(x = "Beauty Score", y = "Teaching Score", title="Scatterplot of relationship of teaching and beauty scores")
ggplot(evals_ch5, aes(x=bty_avg, y=score)) +
geom_points() +
labs(x = "Beauty Score", y = "Teaching Score", title="Scatterplot of relationship of teaching and beauty scores") +
geom_smooth(method="lm",se=FALSE)
ggplot(evals_ch5, aes(x=bty_avg, y=score)) +
geom_point() +
labs(x = "Beauty Score", y = "Teaching Score", title="Scatterplot of relationship of teaching and beauty scores") +
geom_smooth(method="lm",se=FALSE)
evals_ch5 %>% select(score, age) %>% skim()
evals_ch5 %>% summarize(correlation = cor(score ~ age))
evals_ch5 %>% summarize(correlation = cor(score, age))
ggplot(evals_ch5, aes(x=age, y=score)) +
geom_jitter() +
labs(x = "Age", y = "Teaching Score", title="Scatterplot of relationship of teaching vs age") +
geom_smooth(method="lm",se=FALSE)
evals_ch5 %>% lm(score ~ bty_avg)
lm(score ~ bty_avg, data=evals_ch5)
score_model <- lm(score ~ bty_avg, data=evals_ch5)
get_regression_table(score_model)
age_model <- lm(score ~ age, data=evals_ch5)
get_regression_table(age_model)
regression_points <- get_regression_points(score_model)
regression_points
quit
quit()
nunerykeetonPlots <- readRDS("~/Documents/Ecology/Harvard Forest/FVS/00_rawData/nunerykeetonPlots.Rds")
glimpse nunerykeetonPlots
View(nunerykeetonPlots)
View(nunerykeetonPlots)
fvsfiacs <- readRDS("~/Documents/Ecology/Harvard Forest/FVS/fvsfiacs.Rds")
View(fvsfiacs)
setwd("~/Documents/Ecology/Harvard Forest/FVS/02_rScripts")
library(readr)
NK_Plot_IDs_for_REU_Sheet1 <- read_csv("~/Documents/Ecology/Harvard Forest/FVS/NK_Plot_IDs_for_REU - Sheet1.csv",
col_types = cols(`Nunery and Keeton StandID` = col_character()))
View(NK_Plot_IDs_for_REU_Sheet1)
